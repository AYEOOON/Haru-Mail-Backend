<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>다이어리 저장 테스트</title>
</head>
<body>
<h1>다이어리 저장 테스트</h1>
<label for="title">제목:</label>
<input type="text" id="title" placeholder="제목 입력"><br><br>

<label for="content">내용:</label><br>
<textarea id="content" rows="10" cols="50" placeholder="내용 입력 (JSON 문자열 형식)"></textarea><br><br>

<button onclick="saveDiary()">저장</button>

<p id="result"></p>

<script>
    function saveDiary() {
        const title = document.getElementById("title").value;
        const content = document.getElementById("content").value;
        const result = document.getElementById("result");

        fetch("http://localhost:8080/diary/save", {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify({
                id: null,         // id는 서버에서 자동 생성된다면 null 또는 생략 가능
                title: title,
                content: content,
                userId: 1         // 고정된 사용자 ID
            })
        })
            .then(response => {
                if (!response.ok) throw new Error("서버 오류");
                return response.json();
            })
            .then(data => {
                result.textContent = "저장 성공! 다이어리 ID: " + data.id;
            })
            .catch(error => {
                console.error(error);
                result.textContent = "저장 실패!";
            });
    }
</script>
</body>
</html>


<!--<!DOCTYPE html>-->
<!--<html lang="en">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <title>태그 테스트 프론트</title>-->
<!--</head>-->
<!--<body>-->
<!--<h2>카테고리별 태그 조회</h2>-->
<!--<label for="categorySelect">카테고리 선택:</label>-->
<!--<select id="categorySelect">-->
<!--    <option value="1">카테고리 1</option>-->
<!--    <option value="2">카테고리 2</option>-->
<!--    <option value="3">카테고리 3</option>-->
<!--    <option value="4">카테고리 4</option>-->
<!--    <option value="5">카테고리 5</option>-->
<!--    <option value="6">카테고리 6 (사용자 태그)</option>-->
<!--</select>-->
<!--<button onclick="loadTags()">태그 불러오기</button>-->

<!--<ul id="tagList"></ul>-->

<!--<div id="tagCreateArea" style="display: none;">-->
<!--    <h3>태그 생성 (카테고리 6에서만 가능)</h3>-->
<!--    <input type="text" id="newTagName" placeholder="태그 이름 입력" />-->
<!--    <button onclick="createTag()">생성</button>-->
<!--</div>-->

<!--<p id="statusMessage"></p>-->

<!--<script>-->
<!--    const userId = 1; // 고정 사용자-->

<!--    function loadTags() {-->
<!--        const token = localStorage.getItem("accessToken");-->
<!--        const categoryId = document.getElementById("categorySelect").value;-->
<!--        const url = `http://localhost:8080/category/${categoryId}/${userId}`;-->

<!--        fetch(url, {-->
<!--            method: 'GET',-->
<!--            headers: {-->
<!--                'Authorization': `Bearer ${token}`,  // 여기서 JWT 토큰 붙임-->
<!--                'Content-Type': 'application/json'-->
<!--            }-->
<!--        })-->
<!--            .then(response => {-->
<!--                if (response.status === 204) {-->
<!--                    return [];-->
<!--                }-->
<!--                return response.json();-->
<!--            })-->
<!--            .then(tags => {-->
<!--                const tagList = document.getElementById("tagList");-->
<!--                tagList.innerHTML = "";-->

<!--                if (tags.length === 0) {-->
<!--                    tagList.innerHTML = "<li>태그가 없습니다.</li>";-->
<!--                } else {-->
<!--                    tags.forEach(tag => {-->
<!--                        const li = document.createElement("li");-->
<!--                        li.textContent = tag.name;-->
<!--                        tagList.appendChild(li);-->
<!--                    });-->
<!--                }-->

<!--                // 카테고리 6일 때만 태그 생성 UI 보이기-->
<!--                document.getElementById("tagCreateArea").style.display = (categoryId === "6") ? "block" : "none";-->
<!--            })-->
<!--            .catch(error => {-->
<!--                console.error("태그 조회 실패:", error);-->
<!--                document.getElementById("statusMessage").textContent = "태그 조회 중 오류 발생!";-->
<!--            });-->
<!--    }-->

<!--    function createTag() {-->
<!--        const name = document.getElementById("newTagName").value;-->
<!--        const categoryId = 6;-->

<!--        if (!name) {-->
<!--            alert("태그 이름을 입력해주세요.");-->
<!--            return;-->
<!--        }-->

<!--        fetch("http://localhost:8080/tag/create", {-->
<!--            method: "POST",-->
<!--            headers: {-->
<!--                "Content-Type": "application/json"-->
<!--            },-->
<!--            body: JSON.stringify({-->
<!--                name: name,-->
<!--                categoryId: categoryId,-->
<!--                userId: userId-->
<!--            })-->
<!--        })-->
<!--            .then(response => {-->
<!--                if (response.ok) {-->
<!--                    document.getElementById("statusMessage").textContent = "태그가 성공적으로 생성되었습니다!";-->
<!--                    document.getElementById("newTagName").value = "";-->
<!--                    loadTags(); // 다시 불러오기-->
<!--                } else {-->
<!--                    document.getElementById("statusMessage").textContent = "태그 생성 실패.";-->
<!--                }-->
<!--            })-->
<!--            .catch(error => {-->
<!--                console.error("태그 생성 오류:", error);-->
<!--                document.getElementById("statusMessage").textContent = "태그 생성 중 오류 발생!";-->
<!--            });-->
<!--    }-->
<!--</script>-->
<!--</body>-->
<!--</html>-->
